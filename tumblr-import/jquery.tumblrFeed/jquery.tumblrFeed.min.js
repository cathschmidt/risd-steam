/*
tumblrFeed v 1.0.0 2012-08-03
http://www.websketcher.co.uk

Copyright (c) 2012,
*/
(function (a) { 
	a.fn.tumblrFeed = function (b) { 
		var c = a.extend({}, a.fn.tumblrFeed.defaultOptions, b); 
		return this.each(function () { function e(b) { 
			var c = []; 
			c.push("<ul class='tumblr_post_chat'>"); 
			a.each(b.dialogue, function (a, b) { 
				c.push("<li><i>" + b.name + "</i></li>") }); 
				c.push("</ul>"); 
				return c.join("") } 
		function d(b) { 
			var c = []; 
			c.push("<ul class='tumblr_post_images'>"); 
			a.each(b.photos, function (a, b) { 
				c.push("<li><img src=" + b.alt_sizes[1].url + "></li>") }); 
				c.push("</ul>"); 
				return c.join("") } 
			var b = a(this); 
			myJsonpCallback = function (c) {a.each(c.response.posts, function (c, f) { 
				var g = f.date.toString().substr(0, 10); 
				if (f.type == "text") { 
					a(b).append("<div class='post post_text'><ul><li><h3>" + f.title + "</h3></li><li>" + f.body + "</li><li><span'>" + g + "</span></li></ul></div>") 
				} if (f.type == "photo") { 
					a(b).append("<div class='post post_photo'><ul><li>" + f.caption + "</li><li>" + d(f) + "</li><li><span>" + g + "</span></li></ul></div>") 
				} if (f.type == "video") { 
					a(b).append("<div class='post post_video'><ul><li><h3>" + f.caption + "</h3></li><li>" + f.player[2].embed_code + "</li><li><span>" + g + "</span></li></ul></div>") 
				} if (f.type == "audio") { 
					a(b).append("<div class='post post_audio'><ul><li>" + f.caption + "</li><li>" + f.artist + "</li><li>" + f.album + "</li><li>" + f.player + "</li><li><span>" + g + "</span></li></ul></div>") 
				} if (f.type == "link") { 
					a(b).append("<div class='post post_link'><ul><li><a target='_blank' href=" + f.url + "><h3>" + f.title + "</h3></a></li><li>" + f.description + "</li><li><span>" + g + "</span></li></ul></div>") 
				} if (f.type == "chat") { 
					a(b).append("<div class='post post_chat'><ul><li><h3>" + f.title + "</h3></li><li>" + e(f) + "</li><li><span>" + g + "</span></li></ul></div>") 
				} if (f.type == "quote") { 
					a(b).append("<div class='post post_quote'><ul><li><h3>" + f.text + "</h3></li><li>" + f.source + "</li><li><span>" + g + "</span></li></ul></div>") 
				} }) }; 

				a.ajax({ type: "GET", url: "http://api.tumblr.com/v2/blog/" + c.tumblrUsername + ".tumblr.com/posts", dataType: "jsonp", data: { 
						api_key: c.apikey, jsonp: "myJsonpCallback", limit: c.postLimit, type: c.postType} }) 
			}); a.fn.tumblrFeed.defaultOptions = { tumblrUsername: "", apikey: "", postLimit: 20} } })(jQuery)